# LaTeX 简历编辑器 - 使用指南

## 🎯 项目简介

这是一个基于 AI 的 LaTeX 简历编辑器，可以通过与 AI 对话来自动生成和修改简历。

## 🚀 快速开始

### 1. 安装依赖

打开终端，进入项目目录，运行：

```bash
npm install
```

### 2. 配置 OpenRouter API Key

**步骤 A：复制配置文件**
```bash
cp .env.local.example .env.local
```

**步骤 B：获取 API Key**

1. 访问 https://openrouter.ai/
2. 点击右上角 "Sign In" 注册/登录
3. 登录后，点击头像 → "Keys"
4. 点击 "Create Key" 创建新的 API Key
5. 复制生成的 Key（格式：sk-or-v1-xxxxx）

**步骤 C：配置 Key**

编辑 `.env.local` 文件，将你的 API Key 粘贴进去：

```env
OPENROUTER_API_KEY=sk-or-v1-你的实际Key
SITE_URL=http://localhost:3000
```

### 3. 启动项目

```bash
npm run dev
```

打开浏览器访问：http://localhost:3000

## 📖 功能使用

### 顶部区域 - 文件选择器

- 左右滚动按钮可以浏览所有 LaTeX 模板
- 点击任意模板文件，即可在右侧编辑器中打开

### 左侧区域 - AI 对话框

**示例对话流程：**

```
你: 你好，我想创建一份前端工程师的简历

AI: 你好！我可以帮你创建简历。请告诉我你的基本信息...

你: 我叫王小明，有 5 年前端开发经验，熟悉 React、Vue、TypeScript

AI: 很好！请告诉我你的工作经历...

你: 我在 A 公司工作了 3 年，负责开发电商平台；在 B 公司工作了 2 年，负责管理系统开发

AI: 太棒了！你的教育背景是？

你: 我毕业于清华大学，计算机科学专业，2018年本科毕业

AI: 完美！你还有其他想添加的信息吗？

你: 我会英语，通过了 CET-6，有 GitHub 开源项目
```

**完成对话后，点击 "Generate Resume" 按钮**

### 右侧区域 - 编辑器

**功能按钮：**

1. **显示预览/显示编辑器**：切换编辑模式和预览模式
2. **渲染预览**：将 LaTeX 代码转换为可读的 HTML 预览
3. **保存文件**：保存修改后的 LaTeX 代码到文件

**使用流程：**

1. 选择模板 → 在编辑器中显示模板代码
2. 与 AI 对话 → 点击 Generate Resume
3. AI 生成新的简历代码 → 自动更新到编辑器
4. 可以手动编辑代码 → 点击保存

## ⚙️ 高级功能

### 自定义对话

你可以随时与 AI 继续对话，完善简历：

```
你: 我还想添加一个项目经历
AI: 好的，请告诉我项目的详细信息...

你: 我参与开发了一个在线教育平台，使用微服务架构，服务了 10 万用户
AI: 很好！这个项目的技术栈是什么？

你: 使用了 React、Node.js、Docker、Kubernetes、Redis、PostgreSQL
```

然后再次点击 "Generate Resume"，AI 会在原有基础上添加新信息。

### 手动编辑

生成后的 LaTeX 代码可以直接在编辑器中修改：

- 支持语法高亮
- 支持行号显示
- 支持代码折叠
- 支持自动缩进

### 导出使用

1. **复制代码**：在编辑器中全选（Ctrl/Cmd + A）并复制
2. **在 Overleaf 使用**：
   - 访问 https://www.overleaf.com/
   - 新建项目
   - 粘贴代码
   - 编译生成 PDF

3. **本地编译**：
   - 点击"保存文件"
   - 使用本地 LaTeX 环境（如 TeXLive）编译

## 🔍 故障排除

### 问题 1：看不到模板文件列表

**原因**：API 接口未正常响应

**解决**：
1. 检查终端是否有错误信息
2. 确认开发服务器正常运行
3. 刷新浏览器页面

### 问题 2：与 AI 对话无响应

**原因**：API Key 未配置或无效

**解决**：
1. 检查 `.env.local` 文件是否存在
2. 确认 API Key 格式正确
3. 在 OpenRouter 网站检查 Key 状态和额度
4. 重启开发服务器

### 问题 3：生成简历失败

**可能原因**：
- 网络问题
- API 额度不足
- LaTeX 模板格式问题

**解决**：
1. 检查网络连接
2. 打开浏览器开发者工具（F12）查看 Console 和 Network
3. 检查 OpenRouter 账户额度
4. 尝试选择另一个模板

### 问题 4：渲染预览效果不理想

**说明**：当前的预览是简化版本，主要用于快速查看结构

**解决**：
- 如需完整效果，请使用 Overleaf 或本地 LaTeX 编译器
- 生成的代码是完整的 LaTeX，可以正常编译

## 💰 费用说明

### OpenRouter 计费

- 按 API 调用量计费
- Claude 3.5 Sonnet 费用：约 $3/百万 token（输入）和 $15/百万 token（输出）
- 一次对话约消耗 1000-5000 tokens
- 一次生成简历约消耗 5000-15000 tokens

### 节省费用的建议

1. 一次性提供完整信息，减少对话轮次
2. 使用更便宜的模型（在 API 代码中修改）
3. 设置使用限制

## 📚 技术栈

- **前端框架**：Next.js 14 (App Router)
- **样式**：Tailwind CSS
- **编程语言**：TypeScript
- **编辑器**：CodeMirror 6
- **AI 服务**：OpenRouter (Claude 3.5 Sonnet)

## 🤝 获取帮助

- 查看项目根目录的 `README.md`
- 查看 `QUICKSTART.md` 了解更多详情
- 遇到问题可以在 GitHub 提交 Issue

## 🎨 自定义开发

### 修改 AI 模型

编辑 `app/api/chat/route.ts` 和 `app/api/generate-resume/route.ts`：

```typescript
// 将 anthropic/claude-3.5-sonnet 改为其他模型
model: 'anthropic/claude-3.5-sonnet',
```

可选模型：
- `openai/gpt-4-turbo`
- `openai/gpt-3.5-turbo`
- `google/gemini-pro`
- 更多：https://openrouter.ai/models

### 添加新模板

1. 将 `.tex` 文件放入 `data` 目录
2. 刷新页面即可看到新模板

### 修改界面样式

编辑对应的组件文件：
- `components/FileSelector.tsx` - 文件选择器
- `components/ChatBox.tsx` - 聊天框
- `components/LatexEditor.tsx` - 编辑器

---

祝你使用愉快！

